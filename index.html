<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pure HTML/CSS Audio Editor</title>
    <style>
        /* ===== CSS Reset & Variables ===== */
        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-primary: #1a1a1a;
            --bg-secondary: #2a2a2a;
            --bg-tertiary: #3a3a3a;
            --border: #4a4a4a;
            --text: #e0e0e0;
            --text-dim: #888;
            --primary: #2563eb;
            --primary-hover: #3b82f6;
            --success: #059669;
            --success-light: #10b981;
            --warning: #d97706;
            --danger: #dc2626;
            --purple: #7c3aed;
            --purple-light: #8b5cf6;
            --green: #4ade80;
            --radius: 4px;
            --transition: 0.15s;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* ===== Hidden Audio Element ===== */
        #audioElement {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        /* ===== State Management (Radio Buttons) ===== */
        .state-toggle {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        /* ===== Toolbar ===== */
        .toolbar {
            display: flex;
            gap: 8px;
            padding: 8px 12px;
            background-color: var(--bg-secondary);
            border-bottom: 1px solid var(--border);
            flex-wrap: wrap;
            align-items: center;
            z-index: 100;
        }

        .toolbar-group {
            display: flex;
            gap: 4px;
            align-items: center;
            padding-right: 12px;
            border-right: 1px solid var(--border);
        }

        .toolbar-group:last-child {
            border-right: none;
        }

        .toolbar-label {
            font-size: 11px;
            color: var(--text-dim);
            margin-right: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* ===== Buttons ===== */
        button, label.button {
            background-color: var(--bg-tertiary);
            color: var(--text);
            border: 1px solid var(--border);
            padding: 6px 12px;
            border-radius: var(--radius);
            cursor: pointer;
            font-size: 13px;
            transition: background-color var(--transition);
            display: inline-block;
            user-select: none;
        }

        button:hover, label.button:hover {
            background-color: #4a4a4a;
        }

        button:active, label.button:active {
            background-color: #5a5a5a;
        }

        button.primary, label.button.primary {
            background-color: var(--primary);
            border-color: var(--primary-hover);
        }

        button.primary:hover, label.button.primary:hover {
            background-color: var(--primary-hover);
        }

        .transport {
            width: 40px;
            font-size: 16px;
            padding: 6px;
            text-align: center;
        }

        /* Playing state visualization */
        #playToggle:checked ~ .toolbar .play-btn {
            background-color: var(--success);
            border-color: var(--success-light);
        }

        #loopToggle:checked ~ .toolbar .loop-btn {
            background-color: var(--purple);
            border-color: var(--purple-light);
        }

        /* ===== File Input Styling ===== */
        input[type="file"] {
            display: none;
        }

        /* ===== Main Content ===== */
        .main-content {
            flex: 1;
            display: flex;
            overflow: hidden;
            min-height: 0;
        }

        /* ===== Editor Area ===== */
        .editor-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* ===== Waveform Container ===== */
        .waveform-container {
            flex: 3;
            position: relative;
            background-color: var(--bg-primary);
            overflow: hidden;
            min-height: 120px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* SVG Waveform */
        .waveform-svg {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
        }

        .waveform-path {
            fill: none;
            stroke: var(--primary);
            stroke-width: 1.5;
            opacity: 0.8;
            animation: waveformPulse 2s ease-in-out infinite;
        }

        .waveform-fill {
            fill: var(--primary);
            opacity: 0.1;
        }

        #playToggle:checked ~ .main-content .waveform-path {
            stroke: var(--success);
            animation: waveformActive 1s ease-in-out infinite;
        }

        @keyframes waveformPulse {
            0%, 100% { opacity: 0.8; }
            50% { opacity: 0.6; }
        }

        @keyframes waveformActive {
            0%, 100% { opacity: 1; stroke-width: 1.5; }
            50% { opacity: 0.9; stroke-width: 2; }
        }

        /* Playhead */
        .playhead {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 2px;
            background: var(--danger);
            left: 0;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        #playToggle:checked ~ .main-content .playhead {
            opacity: 1;
            animation: playheadMove 10s linear infinite;
        }

        @keyframes playheadMove {
            0% { left: 0; }
            100% { left: 100%; }
        }

        /* Timeline ruler */
        .timeline-ruler {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            padding: 0 4px;
            font-size: 9px;
            color: var(--text-dim);
            align-items: center;
        }

        /* ===== Spectrogram Container ===== */
        .spectrogram-container {
            flex: 1;
            position: relative;
            background-color: #0a0a0a;
            border-top: 1px solid var(--border);
            min-height: 80px;
            max-height: 150px;
            overflow: hidden;
        }

        .spectrogram-label {
            position: absolute;
            top: 4px;
            left: 8px;
            font-size: 10px;
            color: #666;
            z-index: 10;
        }

        .spectrogram-svg {
            width: 100%;
            height: 100%;
        }

        /* Animated spectrogram bars */
        .spec-bar {
            animation: spectrumPulse 1.5s ease-in-out infinite;
        }

        .spec-bar:nth-child(2n) {
            animation-delay: 0.1s;
        }

        .spec-bar:nth-child(3n) {
            animation-delay: 0.2s;
        }

        #playToggle:checked ~ .main-content .spec-bar {
            animation: spectrumActive 0.8s ease-in-out infinite;
        }

        @keyframes spectrumPulse {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.2; }
        }

        @keyframes spectrumActive {
            0%, 100% { opacity: 0.8; transform: scaleY(1); }
            50% { opacity: 1; transform: scaleY(1.2); }
        }

        .fft-controls {
            position: absolute;
            bottom: 4px;
            right: 8px;
            display: flex;
            align-items: center;
            gap: 4px;
            font-size: 9px;
            color: #666;
        }

        .fft-controls label {
            color: #666;
        }

        .fft-controls select {
            background: var(--bg-tertiary);
            color: var(--text);
            border: 1px solid var(--border);
            border-radius: 2px;
            padding: 2px 4px;
            font-size: 9px;
        }

        /* ===== Meters Panel ===== */
        .meters-panel {
            width: 140px;
            background-color: #222;
            border-left: 1px solid var(--border);
            padding: 6px;
            display: flex;
            flex-direction: column;
            gap: 6px;
        }

        .meter {
            display: flex;
            flex-direction: column;
            gap: 2px;
        }

        .meter-label {
            font-size: 9px;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }

        .meter-value {
            font-size: 14px;
            font-family: monospace;
            font-weight: 600;
            color: var(--green);
            min-height: 20px;
        }

        /* VU Meter bars */
        .vu-meter {
            width: 100%;
            height: 8px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            position: relative;
            overflow: hidden;
        }

        .vu-meter::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 70%;
            background: linear-gradient(90deg, var(--success), var(--warning), var(--danger));
            transition: width 0.1s;
        }

        #playToggle:checked ~ .main-content .vu-meter::before {
            animation: vuMeterActive 1.2s ease-in-out infinite;
        }

        @keyframes vuMeterActive {
            0%, 100% { width: 60%; }
            25% { width: 75%; }
            50% { width: 85%; }
            75% { width: 70%; }
        }

        /* Peak meter */
        .peak-meter {
            width: 100%;
            height: 40px;
            background: var(--bg-tertiary);
            border-radius: 2px;
            position: relative;
            overflow: hidden;
        }

        .peak-meter::before {
            content: '';
            position: absolute;
            left: 0;
            bottom: 0;
            width: 100%;
            height: 65%;
            background: linear-gradient(180deg, transparent, var(--success) 40%, var(--warning) 80%, var(--danger));
            transition: height 0.1s;
        }

        #playToggle:checked ~ .main-content .peak-meter::before {
            animation: peakMeterActive 1s ease-in-out infinite;
        }

        @keyframes peakMeterActive {
            0%, 100% { height: 65%; }
            50% { height: 85%; }
        }

        /* ===== Controls Panel ===== */
        .controls-panel {
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 12px;
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
            align-items: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 4px;
            min-width: 120px;
        }

        .control-group label {
            font-size: 10px;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Range Input Styling */
        input[type="range"] {
            width: 100%;
            height: 6px;
            background: var(--bg-tertiary);
            border-radius: 3px;
            outline: none;
            appearance: none;
            cursor: pointer;
        }

        input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 16px;
            height: 16px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
            transition: all var(--transition);
        }

        input[type="range"]::-webkit-slider-thumb:hover {
            background: var(--primary-hover);
            transform: scale(1.2);
        }

        input[type="range"]::-moz-range-thumb {
            width: 16px;
            height: 16px;
            background: var(--primary);
            border-radius: 50%;
            border: none;
            cursor: pointer;
            transition: all var(--transition);
        }

        input[type="range"]::-moz-range-thumb:hover {
            background: var(--primary-hover);
            transform: scale(1.2);
        }

        .range-value {
            font-size: 11px;
            color: var(--text);
            font-family: monospace;
            text-align: center;
            min-height: 16px;
        }

        /* ===== Effects Panel ===== */
        .effects-panel {
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 12px;
        }

        .effects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 12px;
        }

        .effect-control {
            background: var(--bg-tertiary);
            padding: 8px;
            border-radius: var(--radius);
            border: 1px solid var(--border);
        }

        .effect-control h4 {
            font-size: 11px;
            color: var(--text);
            margin-bottom: 6px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* Checkbox styling for effect toggles */
        input[type="checkbox"] {
            appearance: none;
            width: 16px;
            height: 16px;
            border: 2px solid var(--border);
            border-radius: 3px;
            cursor: pointer;
            position: relative;
            transition: all var(--transition);
            vertical-align: middle;
            margin-right: 6px;
        }

        input[type="checkbox"]:checked {
            background: var(--primary);
            border-color: var(--primary);
        }

        input[type="checkbox"]:checked::after {
            content: '‚úì';
            position: absolute;
            color: white;
            font-size: 12px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* Visual effect representation */
        #reverbToggle:checked ~ .main-content .waveform-container {
            filter: blur(0.5px);
        }

        #distortionToggle:checked ~ .main-content .waveform-svg {
            filter: contrast(1.5) saturate(1.5);
        }

        #delayToggle:checked ~ .main-content .waveform-path {
            filter: drop-shadow(2px 0 0 rgba(37, 99, 235, 0.5));
        }

        #compressorToggle:checked ~ .main-content .vu-meter::before {
            background: linear-gradient(90deg, var(--success), var(--success), var(--warning));
        }

        /* ===== Details/Summary for Collapsible Sections ===== */
        details {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            margin-bottom: 8px;
        }

        summary {
            padding: 8px 12px;
            cursor: pointer;
            user-select: none;
            font-weight: 600;
            font-size: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: background-color var(--transition);
        }

        summary::-webkit-details-marker {
            display: none;
        }

        summary::after {
            content: '‚ñº';
            transition: transform var(--transition);
            font-size: 0.8em;
        }

        details[open] summary::after {
            transform: rotate(-180deg);
        }

        summary:hover {
            background: #4a4a4a;
        }

        details > *:not(summary) {
            padding: 12px;
            border-top: 1px solid var(--border);
        }

        /* ===== Status Bar ===== */
        .status-bar {
            background-color: var(--bg-secondary);
            border-top: 1px solid var(--border);
            padding: 4px 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 11px;
            color: var(--text-dim);
        }

        .status-item {
            display: flex;
            gap: 16px;
        }

        .status-item span {
            display: flex;
            gap: 6px;
        }

        .status-value {
            color: var(--text);
            font-family: monospace;
        }

        /* ===== Responsive ===== */
        @media (max-width: 768px) {
            .meters-panel {
                width: 100px;
            }

            .toolbar {
                padding: 6px;
            }

            .effects-grid {
                grid-template-columns: 1fr;
            }
        }

        /* ===== Audio Element Custom Controls ===== */
        .audio-controls {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        /* Audio Container & Player Switching */
        .audio-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: var(--bg-secondary);
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            padding: 8px;
            box-shadow: 0 4px 12px var(--shadow);
        }

        .audio-player {
            display: none;
        }

        /* Show active audio track based on radio selection */
        #track1:checked ~ .audio-container #audio1,
        #track2:checked ~ .audio-container #audio2,
        #track3:checked ~ .audio-container #audio3,
        #customTrack:checked ~ .audio-container #audio4 {
            display: block;
        }

        /* :target-based track switching (URL hash method) */
        .audio-track-container {
            display: none;
        }

        .audio-track-container:target {
            display: block !important;
        }

        /* If no hash in URL, show first track */
        .audio-track-container:first-of-type:not(:target) {
            display: block;
        }

        /* Editable audio source field */
        .editable-source {
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 8px;
            color: var(--primary);
            font-family: monospace;
            font-size: 12px;
            min-height: 60px;
            max-width: 100%;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .editable-source:focus {
            outline: 2px solid var(--primary);
            background: #0a0a0a;
        }

        .editable-source:empty::before {
            content: 'Click here to paste audio URL or file path...';
            color: var(--text-dim);
            font-style: italic;
        }

        /* Volume control sections */
        .volume-controls {
            display: flex;
            gap: 4px;
            margin-top: 8px;
        }

        .volume-controls label {
            font-size: 10px;
            padding: 3px 6px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 3px;
            cursor: pointer;
            transition: var(--transition);
        }

        .volume-controls input:checked + label {
            background: var(--success);
            color: white;
        }

        /* Track selector styling */
        .track-selector {
            display: flex;
            gap: 4px;
            align-items: center;
        }

        .track-selector label {
            font-size: 11px;
            padding: 4px 8px;
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
        }

        /* Highlight active track label */
        #track1:checked ~ .toolbar .track-selector label[for="track1"],
        #track2:checked ~ .toolbar .track-selector label[for="track2"],
        #track3:checked ~ .toolbar .track-selector label[for="track3"],
        #customTrack:checked ~ .toolbar .track-selector label[for="customTrack"] {
            background: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .track-selector label:hover {
            background: #4a4a4a;
        }

        /* URL Input Panel */
        .url-input-panel {
            background: var(--bg-tertiary);
            padding: 8px;
            border-radius: var(--radius);
            display: flex;
            gap: 8px;
            align-items: center;
            flex-wrap: wrap;
        }

        .url-input-panel input[type="url"] {
            flex: 1;
            min-width: 200px;
            padding: 6px 10px;
            background: var(--bg-primary);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            color: var(--text);
            font-size: 12px;
        }

        .url-input-panel input[type="url"]:focus {
            outline: none;
            border-color: var(--primary);
        }

        /* Instructions Panel */
        .instructions-panel {
            display: none;
            background: var(--bg-secondary);
            border: 2px solid var(--primary);
            border-radius: var(--radius);
            padding: 20px;
            margin: 12px;
            box-shadow: 0 4px 12px var(--shadow);
        }

        #showInstructions:checked ~ .instructions-panel {
            display: block;
        }

        .instructions-panel h3 {
            color: var(--primary);
            margin-bottom: 12px;
            font-size: 16px;
        }

        .instructions-panel h4 {
            color: var(--text);
            margin-top: 16px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .instructions-panel ol, .instructions-panel ul {
            margin-left: 24px;
            line-height: 1.8;
        }

        .instructions-panel code {
            background: var(--bg-primary);
            padding: 2px 6px;
            border-radius: 3px;
            color: var(--primary);
            font-family: monospace;
            font-size: 12px;
        }

        .instructions-panel .close-btn {
            float: right;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-dim);
            transition: color var(--transition);
        }

        .instructions-panel .close-btn:hover {
            color: var(--danger);
        }

        /* ===== Loading State ===== */
        .loading-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(26, 26, 26, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 16px;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        .loading-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid var(--bg-tertiary);
            border-top-color: var(--primary);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* ===== Welcome Message ===== */
        .welcome-message {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            color: var(--text-dim);
            pointer-events: none;
        }

        .welcome-message h3 {
            font-size: 18px;
            margin-bottom: 8px;
            color: var(--text);
        }

        .welcome-message p {
            font-size: 13px;
        }
    </style>
</head>
<body>
    <!-- State Management Checkboxes/Radios -->
    <input type="checkbox" id="playToggle" class="state-toggle">
    <input type="checkbox" id="loopToggle" class="state-toggle">
    <input type="checkbox" id="reverbToggle" class="state-toggle">
    <input type="checkbox" id="distortionToggle" class="state-toggle">
    <input type="checkbox" id="delayToggle" class="state-toggle">
    <input type="checkbox" id="compressorToggle" class="state-toggle">

    <!-- Audio Track Selection (Radio-based switching) -->
    <input type="radio" name="audioTrack" id="track1" class="state-toggle" checked>
    <input type="radio" name="audioTrack" id="track2" class="state-toggle">
    <input type="radio" name="audioTrack" id="track3" class="state-toggle">
    <input type="radio" name="audioTrack" id="customTrack" class="state-toggle">

    <!-- Instructions Panel Toggle -->
    <input type="checkbox" id="showInstructions" class="state-toggle">

    <!-- Multiple Audio Elements (switched via radio buttons) -->
    <div class="audio-container">
        <!-- Track 1: User's custom audio -->
        <audio id="audio1" class="audio-player" preload="auto" controls loop>
            <!-- EDIT THIS LINE: Add your audio file URL or local path -->
            <!-- Example: <source src="your-audio-file.wav" type="audio/wav"> -->
            <!-- Example: <source src="https://example.com/audio.mp3" type="audio/mpeg"> -->
        </audio>

        <!-- Track 2: Demo audio (sine wave tone) -->
        <audio id="audio2" class="audio-player" preload="auto" controls loop>
            <!-- Using data URL for a simple audio tone -->
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
        </audio>

        <!-- Track 3: Placeholder for second custom audio -->
        <audio id="audio3" class="audio-player" preload="auto" controls loop>
            <!-- EDIT THIS LINE: Add second audio file -->
        </audio>

        <!-- Custom URL audio -->
        <audio id="audio4" class="audio-player" preload="auto" controls loop>
            <!-- This will be set via the URL input below -->
        </audio>
    </div>

    <!-- :target-based Audio Tracks (URL hash navigation) -->
    <div id="audioTrack1" class="audio-track-container" style="position: fixed; bottom: 100px; right: 20px; z-index: 999; background: var(--bg-secondary); border: 2px solid var(--success); border-radius: var(--radius); padding: 12px; box-shadow: 0 4px 12px var(--shadow); max-width: 400px;">
        <h4 style="margin: 0 0 8px 0; color: var(--success); font-size: 12px;">Track 1 (Hash Nav)</h4>
        <audio controls loop style="width: 100%;">
            <source src="" type="audio/wav">
        </audio>
        <div style="margin-top: 8px; font-size: 10px; color: var(--text-dim);">
            Edit source URL:
        </div>
        <div class="editable-source" contenteditable="true">your-audio-file.wav</div>
        <div style="margin-top: 8px; font-size: 10px; color: var(--text-dim);">
            Instructions: Copy the URL above, save this HTML file, edit the &lt;source src=""&gt; on line 828, paste your URL, then reload.
        </div>
    </div>

    <div id="audioTrack2" class="audio-track-container" style="position: fixed; bottom: 100px; right: 20px; z-index: 999; background: var(--bg-secondary); border: 2px solid var(--warning); border-radius: var(--radius); padding: 12px; box-shadow: 0 4px 12px var(--shadow); max-width: 400px;">
        <h4 style="margin: 0 0 8px 0; color: var(--warning); font-size: 12px;">Track 2 (Demo Audio)</h4>
        <audio controls loop style="width: 100%;">
            <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
        </audio>
        <div style="margin-top: 8px; font-size: 10px; color: var(--text-dim);">
            ‚úÖ This track has embedded demo audio - click play!
        </div>
    </div>

    <div id="audioTrack3" class="audio-track-container" style="position: fixed; bottom: 100px; right: 20px; z-index: 999; background: var(--bg-secondary); border: 2px solid var(--purple); border-radius: var(--radius); padding: 12px; box-shadow: 0 4px 12px var(--shadow); max-width: 400px;">
        <h4 style="margin: 0 0 8px 0; color: var(--purple); font-size: 12px;">Track 3 (Your Audio)</h4>
        <audio controls loop style="width: 100%;">
            <source src="" type="audio/wav">
        </audio>
        <div style="margin-top: 8px; font-size: 10px; color: var(--text-dim);">
            Edit source URL:
        </div>
        <div class="editable-source" contenteditable="true">your-second-audio.mp3</div>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
        <div class="toolbar-group">
            <span class="toolbar-label">Radio Tracks</span>
            <div class="track-selector">
                <label for="track1">Track 1</label>
                <label for="track2">Track 2</label>
                <label for="track3">Track 3</label>
                <label for="customTrack">Custom</label>
            </div>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">Hash Nav</span>
            <a href="#audioTrack1" style="font-size: 11px; padding: 4px 8px; background: var(--success); color: white; border-radius: var(--radius); text-decoration: none; transition: var(--transition);">Track 1</a>
            <a href="#audioTrack2" style="font-size: 11px; padding: 4px 8px; background: var(--warning); color: white; border-radius: var(--radius); text-decoration: none; transition: var(--transition);">Track 2 ‚≠ê</a>
            <a href="#audioTrack3" style="font-size: 11px; padding: 4px 8px; background: var(--purple); color: white; border-radius: var(--radius); text-decoration: none; transition: var(--transition);">Track 3</a>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">Load URL</span>
            <input type="url"
                   placeholder="Paste audio URL here..."
                   list="audioUrls"
                   style="padding: 6px 10px; background: var(--bg-primary); border: 1px solid var(--border); border-radius: var(--radius); color: var(--text); font-size: 12px; min-width: 250px;">
            <datalist id="audioUrls">
                <option value="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3">
                <option value="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3">
                <option value="your-local-file.wav">
                <option value="your-audio.mp3">
            </datalist>
            <label for="showInstructions" class="button" style="font-size: 11px; cursor: pointer;">‚ÑπÔ∏è How to Load</label>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">Transport</span>
            <label for="playToggle" class="button transport play-btn">‚ñ∂</label>
            <button class="transport" type="button">‚èπ</button>
            <label for="loopToggle" class="button transport loop-btn">üîÅ</label>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">Edit</span>
            <button>‚úÇ Cut</button>
            <button>üìã Copy</button>
            <button>üìÑ Paste</button>
        </div>

        <div class="toolbar-group">
            <span class="toolbar-label">Effects</span>
            <button>üéö Normalize</button>
            <button>üîä Amplify</button>
            <button>üéµ Fade</button>
        </div>

        <div class="toolbar-group">
            <button class="primary">üíæ Export WAV</button>
        </div>
    </div>

    <!-- Instructions Panel (toggleable) -->
    <div class="instructions-panel">
        <label for="showInstructions" class="close-btn">&times;</label>
        <h3>üìñ How to Load Audio Files (No JavaScript Required)</h3>

        <p style="background: var(--success); color: white; padding: 8px; border-radius: var(--radius); margin-bottom: 12px;">
            <strong>üÜï NEW: Hash Navigation Method!</strong> Click the "Hash Nav" buttons (Track 2‚≠ê has demo audio ready to play!)
        </p>

        <h4>Method 1: Hash Navigation + contenteditable (‚ú® NEW!)</h4>
        <ol>
            <li>Click "Hash Nav ‚Üí Track 2 ‚≠ê" in toolbar (has working demo audio!)</li>
            <li>Or manually navigate to: <code>#audioTrack1</code>, <code>#audioTrack2</code>, <code>#audioTrack3</code></li>
            <li>Edit the contenteditable field to paste your audio URL</li>
            <li>Save HTML file, edit the <code>&lt;source src=""&gt;</code> tag with your URL</li>
            <li>Reload page - your audio will load!</li>
        </ol>

        <h4>Method 2: Edit HTML Directly (Still Works)</h4>
        <ol>
            <li>Right-click this page ‚Üí "View Page Source" or "Inspect Element"</li>
            <li>Find the <code>&lt;audio&gt;</code> elements (search for "audio id=")</li>
            <li>Add your audio file inside a <code>&lt;source&gt;</code> tag:</li>
        </ol>
        <pre style="background: var(--bg-primary); padding: 12px; border-radius: var(--radius); margin: 8px 0; overflow-x: auto;"><code>&lt;audio id="audio1" class="audio-player" preload="auto" controls loop&gt;
    &lt;source src="your-file.wav" type="audio/wav"&gt;
    &lt;source src="your-file.mp3" type="audio/mpeg"&gt;
&lt;/audio&gt;</code></pre>

        <h4>Method 2: Use Direct URLs</h4>
        <ul>
            <li>Host your audio file online (Dropbox, Google Drive, your server)</li>
            <li>Get the direct URL to the file</li>
            <li>Add it to the HTML as shown in Method 1</li>
            <li>Example URLs are provided in the URL input datalist</li>
        </ul>

        <h4>Method 3: Local File Path (Desktop Only)</h4>
        <ul>
            <li>Save this HTML file to your computer</li>
            <li>Place your audio files in the same folder</li>
            <li>Edit the HTML: <code>&lt;source src="myaudio.wav"&gt;</code></li>
            <li>Open the HTML file in your browser</li>
        </ul>

        <h4>Method 4: Data URL (Small Files Only)</h4>
        <ul>
            <li>Convert your audio to base64 data URL</li>
            <li>Use: <code>src="data:audio/wav;base64,YOUR_BASE64_HERE"</code></li>
            <li>Track 2 uses this method with a simple sine wave tone</li>
        </ul>

        <h4>üéµ Track Switching Methods</h4>
        <ul>
            <li><strong>Hash Nav (NEW!):</strong> Click "Hash Nav" buttons - uses :target CSS pseudo-class</li>
            <li><strong>Radio Tracks:</strong> Click "Radio Tracks" buttons - uses :checked CSS pseudo-class</li>
            <li><strong>URL Direct:</strong> Add <code>#audioTrack2</code> to URL and bookmark it!</li>
            <li><strong>contenteditable:</strong> Click and edit the text fields to paste URLs</li>
        </ul>

        <h4>‚ú® Advanced HTML/CSS Features Used</h4>
        <ul>
            <li><strong>:target pseudo-class</strong> - URL hash navigation (#audioTrack1, etc.)</li>
            <li><strong>contenteditable attribute</strong> - Edit audio URLs in-browser</li>
            <li><strong>SVG SMIL animations</strong> - Waveform animates without JavaScript!</li>
            <li><strong>CSS :checked selector</strong> - State management with radio/checkbox</li>
            <li><strong>Data URLs</strong> - Embedded audio in base64</li>
            <li><strong>Native &lt;audio&gt; controls</strong> - Full playback functionality</li>
        </ul>

        <h4>‚ö†Ô∏è Current Limitations (HTML/CSS Only)</h4>
        <ul>
            <li>File picker button doesn't work (requires JavaScript)</li>
            <li>URL input is informational only (requires JavaScript to load)</li>
            <li>contenteditable changes aren't saved (must edit HTML file)</li>
            <li>Volume/playback range sliders are UI only (use native audio controls)</li>
            <li>Effects are visual CSS filters, not actual audio processing</li>
            <li>Waveform is animated SVG, not generated from actual audio data</li>
        </ul>

        <p style="margin-top: 16px; padding: 12px; background: var(--bg-tertiary); border-radius: var(--radius); border-left: 3px solid var(--primary);">
            <strong>üí° Tip:</strong> This demo shows the maximum capability of pure HTML/CSS. For full functionality,
            JavaScript would be needed to load files dynamically, process audio, and control playback programmatically.
        </p>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
        <div class="editor-area">
            <!-- Waveform Display -->
            <div class="waveform-container">
                <div class="welcome-message">
                    <h3>Pure HTML/CSS Audio Editor</h3>
                    <p>Open an audio file to begin</p>
                    <p style="margin-top: 8px; font-size: 11px;">Zero JavaScript ‚Ä¢ 100% HTML/CSS</p>
                </div>

                <!-- SVG Waveform -->
                <svg class="waveform-svg" viewBox="0 0 1000 200" preserveAspectRatio="none">
                    <defs>
                        <linearGradient id="waveGradient" x1="0%" y1="0%" x2="0%" y2="100%">
                            <stop offset="0%" style="stop-color:#2563eb;stop-opacity:0.8" />
                            <stop offset="50%" style="stop-color:#2563eb;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#2563eb;stop-opacity:0.8" />
                        </linearGradient>
                    </defs>

                    <!-- Left Channel Waveform with SMIL Animation -->
                    <path class="waveform-path" stroke="url(#waveGradient)" d="M0,100 Q25,80 50,85 T100,90 Q125,70 150,75 T200,80 Q225,60 250,65 T300,70 Q325,85 350,90 T400,95 Q425,110 450,105 T500,100 Q525,85 550,90 T600,95 Q625,75 650,80 T700,85 Q725,95 750,100 T800,105 Q825,90 850,95 T900,100 Q925,110 950,105 T1000,100">
                        <!-- SMIL Animation: Animate the waveform -->
                        <animate attributeName="d"
                                 dur="3s"
                                 repeatCount="indefinite"
                                 values="M0,100 Q25,80 50,85 T100,90 Q125,70 150,75 T200,80 Q225,60 250,65 T300,70 Q325,85 350,90 T400,95 Q425,110 450,105 T500,100 Q525,85 550,90 T600,95 Q625,75 650,80 T700,85 Q725,95 750,100 T800,105 Q825,90 850,95 T900,100 Q925,110 950,105 T1000,100;
                                         M0,100 Q25,70 50,75 T100,80 Q125,60 150,65 T200,70 Q225,50 250,55 T300,60 Q325,75 350,80 T400,85 Q425,100 450,95 T500,90 Q525,75 550,80 T600,85 Q625,65 650,70 T700,75 Q725,85 750,90 T800,95 Q825,80 850,85 T900,90 Q925,100 950,95 T1000,100;
                                         M0,100 Q25,90 50,95 T100,100 Q125,80 150,85 T200,90 Q225,70 250,75 T300,80 Q325,95 350,100 T400,105 Q425,120 450,115 T500,110 Q525,95 550,100 T600,105 Q625,85 650,90 T700,95 Q725,105 750,110 T800,115 Q825,100 850,105 T900,110 Q925,120 950,115 T1000,100;
                                         M0,100 Q25,80 50,85 T100,90 Q125,70 150,75 T200,80 Q225,60 250,65 T300,70 Q325,85 350,90 T400,95 Q425,110 450,105 T500,100 Q525,85 550,90 T600,95 Q625,75 650,80 T700,85 Q725,95 750,100 T800,105 Q825,90 850,95 T900,100 Q925,110 950,105 T1000,100"/>
                    </path>

                    <!-- Filled area -->
                    <path class="waveform-fill" d="M0,100 Q25,80 50,85 T100,90 Q125,70 150,75 T200,80 Q225,60 250,65 T300,70 Q325,85 350,90 T400,95 Q425,110 450,105 T500,100 Q525,85 550,90 T600,95 Q625,75 650,80 T700,85 Q725,95 750,100 T800,105 Q825,90 850,95 T900,100 Q925,110 950,105 T1000,100 L1000,100 Q975,90 950,95 T900,100 Q875,110 850,105 T800,100 Q775,105 750,100 T700,95 Q675,120 650,115 T600,110 Q575,115 550,110 T500,105 Q475,95 450,100 T400,105 Q375,110 350,105 T300,100 Q275,135 250,130 T200,125 Q175,125 150,120 T100,115 Q75,120 50,115 T0,110 Z"/>

                    <!-- Right Channel (mirrored) -->
                    <path class="waveform-path" stroke="url(#waveGradient)" d="M0,100 Q25,120 50,115 T100,110 Q125,130 150,125 T200,120 Q225,140 250,135 T300,130 Q325,115 350,110 T400,105 Q425,90 450,95 T500,100 Q525,115 550,110 T600,105 Q625,125 650,120 T700,115 Q725,105 750,100 T800,95 Q825,110 850,105 T900,100 Q925,90 950,95 T1000,100"/>
                </svg>

                <!-- Playhead with animated SVG -->
                <div class="playhead"></div>

                <!-- SMIL Animated Playhead (always visible) -->
                <svg style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none;">
                    <line x1="0" y1="0" x2="0" y2="100%" stroke="var(--danger)" stroke-width="2" opacity="0.7">
                        <animate attributeName="x1" from="0" to="1000" dur="10s" repeatCount="indefinite"/>
                        <animate attributeName="x2" from="0" to="1000" dur="10s" repeatCount="indefinite"/>
                    </line>
                </svg>

                <!-- Timeline Ruler -->
                <div class="timeline-ruler">
                    <span>0:00</span>
                    <span>0:30</span>
                    <span>1:00</span>
                    <span>1:30</span>
                    <span>2:00</span>
                    <span>2:30</span>
                    <span>3:00</span>
                </div>
            </div>

            <!-- Spectrogram Display -->
            <div class="spectrogram-container">
                <div class="spectrogram-label">SPECTROGRAM</div>

                <!-- SVG Spectrogram -->
                <svg class="spectrogram-svg" viewBox="0 0 1000 100" preserveAspectRatio="none">
                    <defs>
                        <linearGradient id="specGradient" x1="0%" y1="100%" x2="0%" y2="0%">
                            <stop offset="0%" style="stop-color:#000080;stop-opacity:1" />
                            <stop offset="25%" style="stop-color:#0000ff;stop-opacity:1" />
                            <stop offset="50%" style="stop-color:#00ff00;stop-opacity:1" />
                            <stop offset="75%" style="stop-color:#ffff00;stop-opacity:1" />
                            <stop offset="100%" style="stop-color:#ff0000;stop-opacity:1" />
                        </linearGradient>
                    </defs>

                    <!-- Frequency bars -->
                    <rect class="spec-bar" x="0" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.3"/>
                    <rect class="spec-bar" x="15" y="10" width="10" height="90" fill="url(#specGradient)" opacity="0.4"/>
                    <rect class="spec-bar" x="30" y="30" width="10" height="70" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="45" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.45"/>
                    <rect class="spec-bar" x="60" y="25" width="10" height="75" fill="url(#specGradient)" opacity="0.3"/>
                    <rect class="spec-bar" x="75" y="5" width="10" height="95" fill="url(#specGradient)" opacity="0.5"/>
                    <rect class="spec-bar" x="90" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.4"/>

                    <!-- Pattern repeats -->
                    <rect class="spec-bar" x="110" y="30" width="10" height="70" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="125" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.4"/>
                    <rect class="spec-bar" x="140" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.45"/>
                    <rect class="spec-bar" x="155" y="10" width="10" height="90" fill="url(#specGradient)" opacity="0.5"/>
                    <rect class="spec-bar" x="170" y="25" width="10" height="75" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="185" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.4"/>

                    <!-- More bars to fill width -->
                    <rect class="spec-bar" x="200" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.3"/>
                    <rect class="spec-bar" x="215" y="10" width="10" height="90" fill="url(#specGradient)" opacity="0.45"/>
                    <rect class="spec-bar" x="230" y="30" width="10" height="70" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="245" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.4"/>
                    <rect class="spec-bar" x="260" y="25" width="10" height="75" fill="url(#specGradient)" opacity="0.3"/>
                    <rect class="spec-bar" x="275" y="5" width="10" height="95" fill="url(#specGradient)" opacity="0.5"/>
                    <rect class="spec-bar" x="290" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.4"/>

                    <rect class="spec-bar" x="310" y="30" width="10" height="70" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="325" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.4"/>
                    <rect class="spec-bar" x="340" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.45"/>
                    <rect class="spec-bar" x="355" y="10" width="10" height="90" fill="url(#specGradient)" opacity="0.5"/>
                    <rect class="spec-bar" x="370" y="25" width="10" height="75" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="385" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.4"/>

                    <rect class="spec-bar" x="400" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.3"/>
                    <rect class="spec-bar" x="415" y="10" width="10" height="90" fill="url(#specGradient)" opacity="0.45"/>
                    <rect class="spec-bar" x="430" y="30" width="10" height="70" fill="url(#specGradient)" opacity="0.35"/>
                    <rect class="spec-bar" x="445" y="15" width="10" height="85" fill="url(#specGradient)" opacity="0.4"/>
                    <rect class="spec-bar" x="460" y="25" width="10" height="75" fill="url(#specGradient)" opacity="0.3"/>
                    <rect class="spec-bar" x="475" y="5" width="10" height="95" fill="url(#specGradient)" opacity="0.5"/>
                    <rect class="spec-bar" x="490" y="20" width="10" height="80" fill="url(#specGradient)" opacity="0.4"/>
                </svg>

                <div class="fft-controls">
                    <label>FFT Size:</label>
                    <select>
                        <option>512</option>
                        <option>1024</option>
                        <option selected>2048</option>
                        <option>4096</option>
                        <option>8192</option>
                    </select>
                </div>
            </div>
        </div>

        <!-- Meters Panel -->
        <div class="meters-panel">
            <div class="meter">
                <div class="meter-label">Peak L</div>
                <div class="peak-meter"></div>
            </div>

            <div class="meter">
                <div class="meter-label">Peak R</div>
                <div class="peak-meter"></div>
            </div>

            <div class="meter">
                <div class="meter-label">RMS</div>
                <div class="meter-value">-18 dB</div>
                <div class="vu-meter"></div>
            </div>

            <div class="meter">
                <div class="meter-label">Duration</div>
                <div class="meter-value">0:00</div>
            </div>

            <div class="meter">
                <div class="meter-label">Sample Rate</div>
                <div class="meter-value">44.1kHz</div>
            </div>

            <div class="meter">
                <div class="meter-label">Bit Depth</div>
                <div class="meter-value">16-bit</div>
            </div>
        </div>
    </div>

    <!-- Audio Controls Panel -->
    <div class="controls-panel">
        <div class="control-group">
            <label for="volumeControl">Volume</label>
            <input type="range" id="volumeControl" min="0" max="100" value="100">
            <div class="range-value">100%</div>
        </div>

        <div class="control-group">
            <label for="playbackRate">Playback Speed</label>
            <input type="range" id="playbackRate" min="0.25" max="2" step="0.25" value="1">
            <div class="range-value">1.0x</div>
        </div>

        <div class="control-group">
            <label for="panControl">Pan</label>
            <input type="range" id="panControl" min="-100" max="100" value="0">
            <div class="range-value">Center</div>
        </div>

        <div class="control-group">
            <label for="zoomControl">Zoom</label>
            <input type="range" id="zoomControl" min="1" max="10" value="1">
            <div class="range-value">1x</div>
        </div>
    </div>

    <!-- Effects Panel -->
    <details class="effects-panel" open>
        <summary>Audio Effects</summary>
        <div class="effects-grid">
            <div class="effect-control">
                <h4>
                    <input type="checkbox" id="reverbToggle">
                    <label for="reverbToggle" style="cursor: pointer;">Reverb</label>
                </h4>
                <div class="control-group">
                    <label>Room Size</label>
                    <input type="range" min="0" max="100" value="50">
                </div>
                <div class="control-group">
                    <label>Wet/Dry</label>
                    <input type="range" min="0" max="100" value="30">
                </div>
            </div>

            <div class="effect-control">
                <h4>
                    <input type="checkbox" id="delayToggle">
                    <label for="delayToggle" style="cursor: pointer;">Delay</label>
                </h4>
                <div class="control-group">
                    <label>Time (ms)</label>
                    <input type="range" min="0" max="1000" value="250">
                </div>
                <div class="control-group">
                    <label>Feedback</label>
                    <input type="range" min="0" max="100" value="40">
                </div>
            </div>

            <div class="effect-control">
                <h4>
                    <input type="checkbox" id="distortionToggle">
                    <label for="distortionToggle" style="cursor: pointer;">Distortion</label>
                </h4>
                <div class="control-group">
                    <label>Drive</label>
                    <input type="range" min="0" max="100" value="20">
                </div>
                <div class="control-group">
                    <label>Tone</label>
                    <input type="range" min="0" max="100" value="50">
                </div>
            </div>

            <div class="effect-control">
                <h4>
                    <input type="checkbox" id="compressorToggle">
                    <label for="compressorToggle" style="cursor: pointer;">Compressor</label>
                </h4>
                <div class="control-group">
                    <label>Threshold</label>
                    <input type="range" min="-60" max="0" value="-24">
                </div>
                <div class="control-group">
                    <label>Ratio</label>
                    <input type="range" min="1" max="20" value="4">
                </div>
            </div>

            <div class="effect-control">
                <h4>EQ - Low</h4>
                <div class="control-group">
                    <label>Frequency</label>
                    <input type="range" min="20" max="500" value="100">
                </div>
                <div class="control-group">
                    <label>Gain (dB)</label>
                    <input type="range" min="-12" max="12" value="0">
                </div>
            </div>

            <div class="effect-control">
                <h4>EQ - Mid</h4>
                <div class="control-group">
                    <label>Frequency</label>
                    <input type="range" min="500" max="5000" value="1000">
                </div>
                <div class="control-group">
                    <label>Gain (dB)</label>
                    <input type="range" min="-12" max="12" value="0">
                </div>
            </div>

            <div class="effect-control">
                <h4>EQ - High</h4>
                <div class="control-group">
                    <label>Frequency</label>
                    <input type="range" min="5000" max="20000" value="8000">
                </div>
                <div class="control-group">
                    <label>Gain (dB)</label>
                    <input type="range" min="-12" max="12" value="0">
                </div>
            </div>

            <div class="effect-control">
                <h4>Filter</h4>
                <div class="control-group">
                    <label>Type</label>
                    <select style="width: 100%; padding: 4px; background: var(--bg-primary); color: var(--text); border: 1px solid var(--border); border-radius: 3px;">
                        <option>Low Pass</option>
                        <option>High Pass</option>
                        <option>Band Pass</option>
                        <option>Notch</option>
                    </select>
                </div>
                <div class="control-group">
                    <label>Cutoff</label>
                    <input type="range" min="20" max="20000" value="1000">
                </div>
            </div>
        </div>
    </details>

    <!-- Status Bar -->
    <div class="status-bar">
        <div class="status-item">
            <span>
                <span>File:</span>
                <span class="status-value">No file loaded</span>
            </span>
            <span>
                <span>Format:</span>
                <span class="status-value">-</span>
            </span>
            <span>
                <span>Channels:</span>
                <span class="status-value">-</span>
            </span>
        </div>
        <div class="status-item">
            <span class="status-value">Pure HTML/CSS Audio Editor ‚Ä¢ Zero JavaScript</span>
        </div>
    </div>
</body>
</html>
